(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{416:function(s,a){s.exports="data:image/gif;base64,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"},834:function(s,a,t){"use strict";t.r(a);var n=t(27),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"jdbc-简介"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#jdbc-简介"}},[s._v("#")]),s._v(" JDBC 简介")]),s._v(" "),n("p",[s._v("JDBC API 是一种 Java API，它可以访问任何类型的表格数据，特别是存储在关系数据库中的数据。")]),s._v(" "),n("p",[s._v("JDBC 帮助您编写管理这三种编程活动的 Java 应用程序：")]),s._v(" "),n("ol",[n("li",[s._v("连接到数据源，例如数据库")]),s._v(" "),n("li",[s._v("将 "),n("strong",[s._v("查询")]),s._v(" 和 "),n("strong",[s._v("更新")]),s._v(" 语句发送到数据库")]),s._v(" "),n("li",[s._v("检索和处理从数据库接收到的响应您的查询的结果")])]),s._v(" "),n("p",[s._v("下面的简单代码片段给出了这三个步骤的简单示例：")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sql")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Connection")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sql")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DriverManager")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sql")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ResultSet")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sql")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SQLException")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sql")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Statement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JdbcTest")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("connectToAndQueryDatabase")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" username"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" password"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SQLException")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 链接到数据源")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Connection")]),s._v(" con "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DriverManager")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getConnection")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"jdbc:myDriver:myDatabase"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                username"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                password"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Statement")]),s._v(" stmt "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" con"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("createStatement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 发送语句")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ResultSet")]),s._v(" rs "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" stmt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("executeQuery")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SELECT a, b, c FROM Table1"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 处理响应结果")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("rs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("next")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" x "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" rs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getInt")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"a"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" s "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" rs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getString")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"b"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("float")]),s._v(" f "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" rs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getFloat")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"c"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br")])]),n("p",[s._v("这个代码片段实例化一个 DriverManager 对象连接到数据库驱动程序并登录到数据库，实例化一个语句对象，它携带你的 SQL 语言查询到数据库；实例化检索查询结果的 ResultSet 对象，并执行一个简单的 while 循环，该循环检索并显示这些结果。就是这么简单。")]),s._v(" "),n("h2",{attrs:{id:"jdbc-产品组件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#jdbc-产品组件"}},[s._v("#")]),s._v(" JDBC 产品组件")]),s._v(" "),n("p",[s._v("JDBC 包含四个组件：")]),s._v(" "),n("ol",[n("li",[n("p",[n("strong",[s._v("JDBC API")])]),s._v(" "),n("p",[s._v("JDBC API 提供了从 Java 编程语言对关系数据的编程访问。使用 JDBC API，应用程序可以执行 SQL 语句、检索结果并将更改传播回底层数据源。JDBC API 还可以与分布式、异构环境中的多个数据源交互。")]),s._v(" "),n("p",[s._v("JDBC API 是 Java 平台的一部分，Java 平台包括 Java 标准版(Java SE)和 Java 企业版(Java EE)。JDBC 4.0 API被分为两个包："),n("code",[s._v("java.sql")]),s._v(" 和 "),n("code",[s._v("javax.sql")]),s._v("，这两个包都包含在 Java SE 和 Java EE 平台中。")])]),s._v(" "),n("li",[n("p",[n("strong",[s._v("JDBC 驱动程序管理器")])]),s._v(" "),n("p",[s._v("JDBC "),n("code",[s._v("DriverManager")]),s._v(" 类定义了可以将 Java 应用程序连接到 JDBC 驱动程序的对象。驱动程序管理器一直是JDBC 体系结构的传统支柱。它很小，也很简单。")]),s._v(" "),n("p",[s._v("标准扩展包  "),n("code",[s._v("javax.naming")]),s._v(" 和 "),n("code",[s._v("javax.sql")]),s._v("，允许您使用注册于 Java 命名和目录接口(JNDI)命名服务的数据源对象来建立与数据源的连接。您可以使用任何一种连接机制，但是建议尽可能使用 "),n("code",[s._v("DataSource")]),s._v(" 对象。")])]),s._v(" "),n("li",[n("p",[n("strong",[s._v("JDBC 测试套件")])]),s._v(" "),n("p",[s._v("JDBC 驱动程序测试套件可帮助您确定 JDBC 驱动程序将运行您的程序。这些测试不是全面的或详尽的，但是它们确实行使用了 JDBC API 中的许多重要功能。")])]),s._v(" "),n("li",[n("p",[n("strong",[s._v("JDBC-ODBC 桥")])]),s._v(" "),n("p",[s._v("Java 软件桥通过 ODBC 驱动程序提供 JDBC 访问。请注意，需要将 ODBC 二进制代码加载到使用此驱动程序的每台客户机上。因此，ODBC 驱动程序最适合于在客户端安装不是主要问题的公司网络上使用，或者适用于用 Java 在三层体系结构中编写的应用程序服务器代码。")])])]),s._v(" "),n("p",[s._v("本课程使用这四个 JDBC 组件中的前两个连接到数据库，然后构建一个 java 程序，该程序使用 SQL 命令与测试关系数据库通信。最后两个组件在专门的环境中用于测试 web 应用程序，或与支持 odbc 的 dbms 通信。")]),s._v(" "),n("h2",{attrs:{id:"jdbc-架构"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#jdbc-架构"}},[s._v("#")]),s._v(" JDBC 架构")]),s._v(" "),n("p",[s._v("两层和三层处理模型")]),s._v(" "),n("p",[s._v("JDBC API 支持用于数据库访问的两层和三层处理模型。")]),s._v(" "),n("h3",{attrs:{id:"数据访问的两层体系结构"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#数据访问的两层体系结构"}},[s._v("#")]),s._v(" 数据访问的两层体系结构")]),s._v(" "),n("p",[n("img",{attrs:{src:t(416),alt:"DBMS专有协议在客户端计算机和数据库服务器之间提供双向通信"}})]),s._v(" "),n("p",[s._v("在两层模型中，Java applet 或 "),n("strong",[s._v("应用程序直接与数据源对话")]),s._v("。这要求 JDBC 驱动程序能够与被访问的特定数据源通信。用户的命令被传递到数据库或其他数据源，这些语句的结果被发送回用户。数据源可以位于用户通过网络连接到的另一台机器上。这被称为 "),n("strong",[s._v("客户机/服务器配置")]),s._v("，用户的机器作为 "),n("strong",[s._v("客户机")]),s._v("，存放数据源的机器作为 "),n("strong",[s._v("服务器")]),s._v("。网络可以是内部网，例如，它连接公司内部的员工，也可以是 Internet。")]),s._v(" "),n("h3",{attrs:{id:"数据访问的三层体系结构"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#数据访问的三层体系结构"}},[s._v("#")]),s._v(" 数据访问的三层体系结构")]),s._v(" "),n("p",[s._v("在三层模型中，"),n("strong",[s._v("命令被发送到服务的")]),s._v(" “"),n("strong",[s._v("中间层")]),s._v("”，然后该中间层将命令发送到数据源。数据源处理命令并将结果发送回中间层，中间层随后将结果发送给用户。MIS 主管发现三层模型非常有吸引力，因为 "),n("strong",[s._v("中间层使控制访问和可以对企业数据进行的更新")]),s._v(" 成为可能。另一个优点是它简化了应用程序的部署。最后，在许多情况下，三层体系结构 "),n("strong",[s._v("可以提供性能优势")]),s._v("。")]),s._v(" "),n("p",[n("img",{attrs:{src:"assets/intro.anc1.gif",alt:"数据访问的三层体系结构"}})]),s._v(" "),n("p",[s._v("直到最近，中间层还常常是用 C 或 c++ 之类的语言编写的，这些语言提供了快速的性能。然而，由于引入了将 Java 字节码转换为有效的特定于机器的代码和技术(如 Enterprise JavaBeans) 的优化编译器，Java 平台正迅速成为中间层开发的标准平台。这是一个很大的优点，可以利用 Java 的健壮性、多线程和安全特性。")]),s._v(" "),n("p",[s._v("随着越来越多的企业使用 Java 编程语言编写服务器代码，JDBC API 越来越多地被用于三层体系结构的中间层。\n"),n("strong",[s._v("使 JDBC 成为服务器技术")]),s._v(" 的一些特性是它对 "),n("strong",[s._v("连接池")]),s._v("、"),n("strong",[s._v("分布式事务")]),s._v("和 "),n("strong",[s._v("断开连接")]),s._v(" 的行集的支持。JDBC API 还允许从Java 中间层访问数据源。")]),s._v(" "),n("h2",{attrs:{id:"关系数据库概述"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#关系数据库概述"}},[s._v("#")]),s._v(" 关系数据库概述")]),s._v(" "),n("p",[s._v("数据库是一种存储信息的方式，可以从中 "),n("strong",[s._v("检索信息")]),s._v("。用最简单的术语来说，关系数据库就是用带有 "),n("strong",[s._v("行和列的表")]),s._v(" 表示信息的数据库。"),n("strong",[s._v("表被称为关系")]),s._v("，因为它是 "),n("strong",[s._v("相同类型(行)的对象的集合")]),s._v("。表中的数据可以根据 "),n("strong",[s._v("公共键")]),s._v(" 或 "),n("strong",[s._v("概念")]),s._v(" 进行关联，"),n("strong",[s._v("从表中检索相关数据的能力")]),s._v(" 是关系数据库这个术语的基础。数据库管理系统(DBMS)处理 "),n("strong",[s._v("数据存储")]),s._v("、"),n("strong",[s._v("维护")]),s._v(" 和 "),n("strong",[s._v("检索")]),s._v(" 的方式。对于关系数据库，关系数据库管理系统(RDBMS)执行这些任务。在这本书中使用的 DBMS 是一个通用术语，包括 RDBMS。")]),s._v(" "),n("h3",{attrs:{id:"规则"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#规则"}},[s._v("#")]),s._v(" 规则")]),s._v(" "),n("p",[s._v("关系表遵循某些 "),n("strong",[s._v("完整性规则")]),s._v("，以 "),n("strong",[s._v("确保其中包含的数据保持准确并始终可访问")]),s._v("。")]),s._v(" "),n("p",[s._v("首先，"),n("strong",[s._v("关系表中的行应该是完全不同的")]),s._v("。如果有重复的行，那么在解决两个可能的选择中哪一个是正确的选择时就会出现问题。对于大多数 DBMS，用户可以指定不允许重复的行，如果这样做了，DBMS 将阻止添加任何重复现有行的行。")]),s._v(" "),n("p",[s._v("传统关系模型的第二个完整性规则是 "),n("strong",[s._v("列值不能重复组或数组")]),s._v("。")]),s._v(" "),n("p",[s._v("数据完整性的第三个方面涉及到 "),n("strong",[s._v("空值")]),s._v(" 的概念。数据库通过使用空值来表示缺少某个值来处理数据不可用的情况。\n它不等于 "),n("strong",[s._v("空白")]),s._v(" 或 "),n("strong",[s._v("零")]),s._v("。一个空白被认为等于另一个空白，一个零被认为等于另一个零，"),n("strong",[s._v("但是两个空值不被认为是相等的")]),s._v("。")]),s._v(" "),n("p",[s._v("当表中的每一行不同时，可以使用 "),n("strong",[s._v("一列或多列来标识特定的行")]),s._v("。这个 "),n("strong",[s._v("唯一的列或列组称为主键")]),s._v("。属于主键的任何列都不能为空；如果是，包含它的主键将不再是一个完整的标识符。此规则称为 "),n("strong",[s._v("实体完整性")]),s._v("。")]),s._v(" "),n("p",[s._v("Employees 表演示了其中一些关系数据库概念。它有 5 列和 6 行，每一行表示一个不同的雇员。")]),s._v(" "),n("p",[n("code",[s._v("Employees")]),s._v(" Table")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[n("code",[s._v("Employee_Number")])]),s._v(" "),n("th",[n("code",[s._v("First_name")])]),s._v(" "),n("th",[n("code",[s._v("Last_Name")])]),s._v(" "),n("th",[n("code",[s._v("Date_of_Birth")])]),s._v(" "),n("th",[n("code",[s._v("Car_Number")])])])]),s._v(" "),n("tbody",[n("tr",[n("td",[s._v("10001")]),s._v(" "),n("td",[s._v("Axel")]),s._v(" "),n("td",[s._v("Washington")]),s._v(" "),n("td",[s._v("28-Aug-43")]),s._v(" "),n("td",[s._v("5")])]),s._v(" "),n("tr",[n("td",[s._v("10083")]),s._v(" "),n("td",[s._v("Arvid")]),s._v(" "),n("td",[s._v("Sharma")]),s._v(" "),n("td",[s._v("24-Nov-54")]),s._v(" "),n("td",[s._v("null")])]),s._v(" "),n("tr",[n("td",[s._v("10120")]),s._v(" "),n("td",[s._v("Jonas")]),s._v(" "),n("td",[s._v("Ginsberg")]),s._v(" "),n("td",[s._v("01-Jan-69")]),s._v(" "),n("td",[s._v("null")])]),s._v(" "),n("tr",[n("td",[s._v("10005")]),s._v(" "),n("td",[s._v("Florence")]),s._v(" "),n("td",[s._v("Wojokowski")]),s._v(" "),n("td",[s._v("04-Jul-71")]),s._v(" "),n("td",[s._v("12")])]),s._v(" "),n("tr",[n("td",[s._v("10099")]),s._v(" "),n("td",[s._v("Sean")]),s._v(" "),n("td",[s._v("Washington")]),s._v(" "),n("td",[s._v("21-Sep-66")]),s._v(" "),n("td",[s._v("null")])]),s._v(" "),n("tr",[n("td",[s._v("10035")]),s._v(" "),n("td",[s._v("Elizabeth")]),s._v(" "),n("td",[s._v("Yamaguchi")]),s._v(" "),n("td",[s._v("24-Dec-59")]),s._v(" "),n("td",[s._v("null")])])])]),s._v(" "),n("p",[s._v("这个表的 "),n("strong",[s._v("主键通常是员工编号")]),s._v("，因为每个员工编号都保证是不同的。（在进行比较时，"),n("strong",[s._v("数字也比字符串更有效")]),s._v("。）\n也可以使用 First_Name 和 Last_Name，因为这两者的组合也只能标识数据库中的一行。只使用姓是不行的，因为有两个员工的姓是 “Washington”。在这种特殊情况下，名称都是不同的，因此可以使用该列作为主键，但最好避免使用可能出现重复的列。如果 Elizabeth Yamaguchi 在这家公司得到一份工作，并且主键是 First_Name，RDBMS 将不允许添加她的名字（如果已经指定不允许重复）。由于表中已经有一个 Elizabeth，添加第二个 Elizabeth 将使主键作为标识一行的方式变得无用。注意，尽管在本例中使用 First_Name 和 Last_Name 是唯一的组合键，但在较大的数据库中可能不是唯一的。还要注意，Employee 表假设每个员工只能有一辆车。")]),s._v(" "),n("h3",{attrs:{id:"select-语句"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#select-语句"}},[s._v("#")]),s._v(" SELECT 语句")]),s._v(" "),n("p",[s._v("SQL 是一种设计用于关系数据库的语言。有一组基本的 SQL 命令被认为是标准的，并被所有 rdbms 使用。例如，所有 rdbms 都使用 SELECT 语句。")]),s._v(" "),n("p",[s._v("SELECT 语句，也称为查询，用于从表中获取信息。它指定一个或多个列标题、一个或多个要从中选择的表以及一些选择标准。RDBMS 返回满足指定要求的列条目的行。如下所示的 SELECT 语句将获取拥有公司车辆的员工的姓和名：")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" First_Name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Last_Name\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Employees\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Car_Number "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IS")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("接下来是结果集（满足 Car_Number 列中不为 null 要求的行集）。对于满足要求的每一行，都会打印名和姓，因为SELECT 语句 （第一行）指定了列 First_Name 和 Last_Name。FROM 子句 （第二行）给出将从中选择列的表。")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[s._v("FIRST_NAME")]),s._v(" "),n("th",[s._v("LAST_NAME")])])]),s._v(" "),n("tbody",[n("tr",[n("td",[s._v("Axel")]),s._v(" "),n("td",[s._v("Washington")])]),s._v(" "),n("tr",[n("td",[s._v("Florence")]),s._v(" "),n("td",[s._v("Wojokowski")])])])]),s._v(" "),n("p",[s._v("下面的代码将生成一个包含整个表的结果集，因为它要求得到 employee 表中所有没有限制 （没有 WHERE 子句）的列。注意，"),n("code",[s._v("SELECT *")]),s._v(" 表示选择所有列。")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Employees\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"where-子句"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#where-子句"}},[s._v("#")]),s._v(" WHERE 子句")]),s._v(" "),n("p",[s._v("SELECT 语句中的 WHERE 子句提供了选择值的条件。例如，在下面的代码片段中，只有在列 Last_Name 以字符串 「Washington」 开头的行中才会选择值。")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" First_Name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Last_Name\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Employees\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Last_Name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("LIKE")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Washington%'")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("LIKE 关键字用于比较字符串，它提供了可以使用包含通配符的模式的特性。例如，在上面的代码片段中，在「Washington」 的末尾有一个百分号（%），它表示任何包含字符串「Washington」 的值加上 0 个或更多附加字符都将满足这个选择条件。所以「Washington」 或 「Washingtonian」是匹配的，而 「Washing」不是。LIKE 子句中使用的另一个通配符是下划线（"),n("code",[s._v("_")]),s._v("），它代表任何一个字符。例如：")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Last_Name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("LIKE")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Ba_man'")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("会匹配 「Batman」，「Barman」，「Badman」，「Balman」，「Bagman」，「Bamman」，等等。")]),s._v(" "),n("p",[s._v("下面的代码片段有一个 WHERE 子句，它使用等号（=）来比较数字。它选择被分配汽车 12 的员工的姓和名。")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" First_Name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Last_Name\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Employees\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Car_Number "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("下一个代码片段选择员工编号大于 10005 的员工的姓和名：")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" First_Name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Last_Name\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Employees\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Employee_Number "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10005")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("WHERE 子句可能会非常复杂，包含多个条件，在某些 dbms 中还包含嵌套条件。这个概述不会涉及复杂的 WHERE子句，但是下面的代码片段有一个包含两个条件的 WHERE 子句;此查询选择员工编号小于 10100 且没有公司汽车的员工的姓和名。")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" First_Name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Last_Name\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Employees\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Employee_Number "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10100")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" Car_Number "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IS")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("一种特殊类型的 WHERE 子句涉及到连接，下一节将对此进行解释。")]),s._v(" "),n("h3",{attrs:{id:"join"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#join"}},[s._v("#")]),s._v(" join")]),s._v(" "),n("p",[s._v("关系数据库的一个显著特性是，可以从多个表中获取数据，这就是所谓的联接。假设在检索了拥有公司汽车的员工的姓名之后，想要找出谁拥有哪辆汽车，包括汽车的制造商、型号和年份。这个信息存储在另一个表 Cars 中：")]),s._v(" "),n("p",[n("code",[s._v("Cars")]),s._v(" Table")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[n("code",[s._v("Car_Number")])]),s._v(" "),n("th",[n("code",[s._v("Make")])]),s._v(" "),n("th",[n("code",[s._v("Model")])]),s._v(" "),n("th",[n("code",[s._v("Year")])])])]),s._v(" "),n("tbody",[n("tr",[n("td",[s._v("5")]),s._v(" "),n("td",[s._v("Honda")]),s._v(" "),n("td",[s._v("Civic DX")]),s._v(" "),n("td",[s._v("1996")])]),s._v(" "),n("tr",[n("td",[s._v("12")]),s._v(" "),n("td",[s._v("Toyota")]),s._v(" "),n("td",[s._v("Corolla")]),s._v(" "),n("td",[s._v("1999")])])])]),s._v(" "),n("p",[s._v("两个表中必须有一个列，这样才能相互关联。这个列必须是一个表中的 "),n("strong",[s._v("主键")]),s._v("，"),n("strong",[s._v("在另一个表中称为外键")]),s._v("。在本例中，出现在两个表中的列是 Car_Number，它是表 Cars 的主键和表 Employees 的外键。如果 1996 年的本田思域被破坏并从 Cars 表中删除，那么 Car_Number 5 也必须从 Employees 表中删除，以保持 "),n("strong",[s._v("所谓的引用完整性")]),s._v("。否则，Employees 表中的外键列 （Car_Number）将包含一个没有引用 Cars 中的任何内容的条目。外键必须为空或等于其引用的表的现有主键值。这与主键不同，主键可能不是 null。在 Employees 表的 Car_Number 列中有几个空值，因为员工可能没有公司的汽车。")]),s._v(" "),n("p",[s._v("下面的代码询问拥有公司汽车的员工的姓和名，以及这些汽车的制造、型号和年份。注意，FROM 子句同时列出了雇员和汽车，因为请求的数据都包含在两个表中。在列名前使用表名和点（"),n("code",[s._v(".")]),s._v("）表示哪个表包含该列。")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" Employees"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("First_Name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Employees"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Last_Name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    Cars"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Make"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Cars"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Model"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Cars"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Year")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Employees"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Cars\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" Employees"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Car_Number "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Cars"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Car_Number\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("这将返回一个类似于下面的结果集：")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[n("code",[s._v("FIRST_NAME")])]),s._v(" "),n("th",[n("code",[s._v("LAST_NAME")])]),s._v(" "),n("th",[n("code",[s._v("MAKE")])]),s._v(" "),n("th",[n("code",[s._v("MODEL")])]),s._v(" "),n("th",[n("code",[s._v("YEAR")])])])]),s._v(" "),n("tbody",[n("tr",[n("td",[s._v("Axel")]),s._v(" "),n("td",[s._v("Washington")]),s._v(" "),n("td",[s._v("Honda")]),s._v(" "),n("td",[s._v("Civic DX")]),s._v(" "),n("td",[s._v("1996")])]),s._v(" "),n("tr",[n("td",[s._v("Florence")]),s._v(" "),n("td",[s._v("Wojokowski")]),s._v(" "),n("td",[s._v("Toyota")]),s._v(" "),n("td",[s._v("Corolla")]),s._v(" "),n("td",[s._v("1999")])])])]),s._v(" "),n("h3",{attrs:{id:"常见的-sql-命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#常见的-sql-命令"}},[s._v("#")]),s._v(" 常见的 SQL 命令")]),s._v(" "),n("p",[s._v("SQL 命令分为两类，主要是 **数据操作语言（DML）**命令和 **数据定义语言（DDL）**命令。")]),s._v(" "),n("ul",[n("li",[s._v("DML 命令处理数据，检索或修改数据以使其保持最新。")]),s._v(" "),n("li",[s._v("DDL 命令创建或更改表和其他数据库对象，如视图和索引。")])]),s._v(" "),n("p",[s._v("更常见的 DML 命令列表如下：")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("SELECT")]),s._v(" "),n("p",[s._v("用于查询和显示数据库中的数据。SELECT 语句指定在结果集中包含哪些列。应用程序中使用的绝大多数 SQL 命令都是 SELECT 语句。")])]),s._v(" "),n("li",[n("p",[s._v("INSERT")]),s._v(" "),n("p",[s._v("向表中添加新行。INSERT 用于填充新创建的表，或向已经存在的表中添加新行。")])]),s._v(" "),n("li",[n("p",[s._v("DELETE")]),s._v(" "),n("p",[s._v("从表中移除指定的行或行集")])]),s._v(" "),n("li",[n("p",[s._v("UPDATE")]),s._v(" "),n("p",[s._v("更改表中一列或一组列中的现有值")])])]),s._v(" "),n("p",[s._v("更常见的 DDL 命令如下：")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("CREATE TABLE")]),s._v(" "),n("p",[s._v("使用用户提供的列名创建表。")]),s._v(" "),n("p",[s._v("用户还需要为每列中的数据指定类型。数据类型因 RDBMS 的不同而不同，因此用户可能需要使用元数据来建立特定数据库所使用的数据类型。CREATE TABLE 的使用频率通常低于数据操作命令，因为表只创建一次，而添加或删除行或更改单个值通常更频繁。")])]),s._v(" "),n("li",[n("p",[s._v("DROP TABLE")]),s._v(" "),n("p",[s._v("从数据库中删除所有行并删除表定义。")]),s._v(" "),n("p",[s._v("需要一个 JDBC API 实现来支持 SQL92 过渡级别指定的 DROP TABLE 命令。但是，对 DROP 表的级联和限制选项的支持是可选的。此外，当定义了引用被删除表的视图或完整性约束时，DROP TABLE 的行为是由实现定义的。")])]),s._v(" "),n("li",[n("p",[s._v("ALTER TABLE")]),s._v(" "),n("p",[s._v("从表中添加或删除列。它还添加或删除表约束并修改列属性")])])]),s._v(" "),n("h3",{attrs:{id:"结果集和游标"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#结果集和游标"}},[s._v("#")]),s._v(" 结果集和游标")]),s._v(" "),n("p",[s._v("满足查询条件的行称为结果集。结果集中返回的行数可以是 0、1 或多个。用户可以 "),n("strong",[s._v("一次一行")]),s._v(" 地访问结果集中的数据，游标提供了这样做的方法。可以将游标看作是 "),n("strong",[s._v("指向包含结果集行的文件的指针")]),s._v("，并且该指针能够跟踪当前正在访问的行。游标允许用户从上到下处理结果集的每一行，因此可以用于迭代处理。大多数 dbms 在生成结果集时自动创建游标。")]),s._v(" "),n("p",[s._v("早期的 JDBC API 版本为结果集的游标添加了新功能，允许它向前和向后移动，还允许它移动到指定的行或相对于另一行位置的行。")]),s._v(" "),n("h3",{attrs:{id:"事物"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#事物"}},[s._v("#")]),s._v(" 事物")]),s._v(" "),n("p",[s._v("当一个用户访问数据库中的数据时，另一个用户可能 "),n("strong",[s._v("同时访问相同的数据")]),s._v("。例如，如果第一个用户更新表中的某些列，同时第二个用户从同一表中选择列，那么第二个用户可能获得 "),n("strong",[s._v("部分旧数据和部分更新的数据")]),s._v("。因此，dbms 使用事务来维护处于一致状态的数据（"),n("strong",[s._v("数据一致性")]),s._v("），同时允许多个用户同时访问数据库（"),n("strong",[s._v("数据并发性")]),s._v("）。")]),s._v(" "),n("p",[s._v("事务是组成逻辑工作单元的一条或多条 SQL 语句的集合。事务以提交或回滚结束，这取决于数据一致性或数据并发性是否存在任何问题。commit 语句使事务中的 SQL 语句引起的永久更改，rollback 语句撤销事务中的 SQL 语句引起的所有更改。")]),s._v(" "),n("p",[n("strong",[s._v("锁")]),s._v(" 是一种 "),n("strong",[s._v("阻止两个事务同时操作相同数据的机制")]),s._v("。例如，如果表上有未提交的事务，表锁可以防止删除该表。在一些 dbms 中，表锁还锁住表中的所有行。"),n("strong",[s._v("行锁阻止两个事务修改同一行")]),s._v("，或者阻止一个事务在另一个事务仍在修改该行时选择该行。")]),s._v(" "),n("h3",{attrs:{id:"存储过程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#存储过程"}},[s._v("#")]),s._v(" 存储过程")]),s._v(" "),n("p",[s._v("存储过程是一组可以按名称调用的 SQL 语句。换句话说，它是可执行的代码，一个迷你程序，执行一个特定的任务，可以像调用函数或方法一样调用这个任务。传统上，存储过程是用特定于 dbms 的编程语言编写的。最新一代的数据库产品允许使用 Java 编程语言和 JDBC API 编写存储过程。用 Java 编程语言编写的存储过程是在 dbms 之间可移植的字节码。一旦编写了存储过程，就可以使用和重用它，因为支持存储过程的 DBMS 将如其名称所暗示的那样，将其存储在数据库中。")]),s._v(" "),n("p",[s._v("下面的代码示例演示了如何使用 Java 编程语言创建一个非常简单的存储过程。请注意，存储过程只是一个包含普通 JDBC 代码的静态 Java 方法。它接受两个输入参数并使用它们更改员工的车号。")]),s._v(" "),n("p",[s._v("如果此时您还不理解示例，请不必担心。下面的代码示例只是为了说明存储过程是什么样的。在接下来的教程中，您将学习如何编写本示例中的代码。")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sql")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("*"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UpdateCar")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UpdateCarNum")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" carNo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" empNo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SQLException")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Connection")]),s._v(" con "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("PreparedStatement")]),s._v(" pstmt "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("   \n      \n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            con "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DriverManager")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getConnection")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n                      "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"jdbc:default:connection"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n            pstmt "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" con"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("prepareStatement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n                        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"UPDATE EMPLOYEES "')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("\n                        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SET CAR_NUMBER = ? "')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("\n                        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"WHERE EMPLOYEE_NUMBER = ?"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n            pstmt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("setInt")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" carNo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            pstmt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("setInt")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" empNo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            pstmt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("executeUpdate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("finally")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("pstmt "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" pstmt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("close")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br")])]),n("h3",{attrs:{id:"源数据"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#源数据"}},[s._v("#")]),s._v(" 源数据")]),s._v(" "),n("p",[s._v("数据库存储用户数据，还存储关于数据库本身的信息。")]),s._v(" "),n("p",[s._v("大多数 dbms 都有一组系统表，这些表列出数据库中的表、每个表中的列名、主键、外键、存储过程等等。每个DBMS 都有自己的功能来获取关于 **表布局 **和 "),n("strong",[s._v("数据库特性")]),s._v(" 的信息。JDBC 提供 "),n("strong",[s._v("DatabaseMetaData")]),s._v(" 接口，驱动程序编写器必须实现这个接口，以便它的方法返回关于驱动程序和/或为其编写驱动程序的 DBMS 的信息。例如，很多方法返回驱动程序是否支持特定的功能。该接口为用户和工具提供了获取元数据的标准化方法。")]),s._v(" "),n("p",[s._v("一般来说，编写工具和驱动程序的开发人员最可能关心元数据。")])])}),[],!1,null,null,null);a.default=e.exports}}]);