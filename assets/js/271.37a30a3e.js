(window.webpackJsonp=window.webpackJsonp||[]).push([[271],{669:function(t,s,a){"use strict";a.r(s);var n=a(27),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"转换非-unicode-文本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#转换非-unicode-文本"}},[t._v("#")]),t._v(" 转换非 unicode 文本")]),t._v(" "),a("p",[t._v("在 Java 编程语言中，char 值表示 Unicode 字符。Unicode 是一种支持世界上主要语言的 16 位字符编码。你可以在"),a("a",{attrs:{href:"http://www.unicode.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Unicode 协会的网站"),a("OutboundLink")],1),t._v(" 上了解更多关于 Unicode 标准的信息。")]),t._v(" "),a("p",[t._v("目前很少有文本编辑器支持 Unicode 文本输入。我们用来编写本节代码示例的文本编辑器只支持 ASCII 字符，该字符限制为7位。为了表示不能用 ASCII 表示的 Unicode 字符，例如 ö，我们使用 "),a("code",[t._v("\\uXXXX")]),t._v(" 转义序列。转义序列中的每个 X 都是十六进制数字。下面的例子展示了如何用 "),a("strong",[t._v("转义序列")]),t._v(" 表示 ö 字符:")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" str "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\u00F6"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" c "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\u00F6'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Character")]),t._v(" letter "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Character")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\u00F6'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("各种字符编码被世界各地的系统使用。目前，这些编码很少符合 Unicode。因为程序需要 Unicode 中的字符，所以它 "),a("strong",[t._v("从系统中获取的文本数据必须转换为 Unicode")]),t._v("，反之亦然。当文本文件中的数据的编码与 Java 虚拟机的默认文件编码相匹配时，"),a("strong",[t._v("将自动转换为 Unicode")]),t._v("。你可以通过创建一个 OutputStreamWriter 来识别默认的文件编码，并要求它的规范名称：")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OutputStreamWriter")]),t._v(" out "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OutputStreamWriter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ByteArrayOutputStream")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getEncoding")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 比如笔者这里就显示默认编码为 UTF8")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("如果默认的文件编码与您想要处理的文本数据的编码不同，那么您必须自己执行转换。当处理来自另一个国家或计算平台的文本时，可能需要这样做。")]),t._v(" "),a("p",[t._v("本节讨论用于将非 Unicode 文本转换为 Unicode 的api。在使用这些 api 之前，应该验证希望转换为 Unicode 的字符编码是否受到支持。支持的字符编码列表不是 Java 编程语言规范的一部分。\n因此，api 支持的字符编码可能因平台而异。要查看 Java 开发工具包支持哪些编码，请参阅 "),a("a",{attrs:{href:"https://docs.oracle.com/javase/8/docs/technotes/guides/intl/encoding.doc.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("支持的编码文档"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("p",[t._v("下面的资料描述了将非 Unicode 文本转换为 Unicode 的两种技术。可以将 "),a("strong",[t._v("非 unicode 字节数组转换为字符串对象")]),t._v("，反之亦然。或者您可以在 "),a("strong",[t._v("Unicode 字符流和非 Unicode 文本的字节流")]),t._v(" 之间进行转换。")]),t._v(" "),a("ul",[a("li",[a("p",[a("RouterLink",{attrs:{to:"/i18n/text/string.html"}},[t._v("字节编码和字符串")])],1),t._v(" "),a("p",[t._v("本节向您展示如何将非 unicode 字节数组转换为字符串对象，反之亦然。")])]),t._v(" "),a("li",[a("p",[a("RouterLink",{attrs:{to:"/i18n/text/stream.html"}},[t._v("字符和字节流")])],1),t._v(" "),a("p",[t._v("在本节中，您将学习如何在 Unicode 字符流和非 Unicode 文本的字节流之间进行转换。")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);