(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{415:function(a,s,t){a.exports=t.p+"assets/img/image-20200807164130684.fe35a4d6.png"},823:function(a,s,t){"use strict";t.r(s);var e=t(27),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"入门指南"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#入门指南"}},[a._v("#")]),a._v(" 入门指南")]),a._v(" "),e("p",[a._v("本教程附带的示例代码创建了一个数据库，供名为 The coffee Break 的小咖啡馆的所有者使用。在这家咖啡馆，咖啡豆按磅出售，煮好的咖啡按杯出售。")]),a._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),e("p",[a._v("注意：本教程将不会教你如何搭建一个开发环境，因为您能看到这里，说明您已经是一个 java 入门者了。")]),a._v(" "),e("p",[a._v("由于官网这一章节的教程，有很多工具等都是比较落后的，甚至很多年都已经不在世面上存在了。")]),a._v(" "),e("p",[a._v("所以本章，将会安装笔者现在的开发知识进行讲解。最主要的无非是创建一个 maven 或则 gradle 的 java 项目，引用 mysql 驱动包。")]),a._v(" "),e("p",[a._v("改造完成后的代码文件和结构，会在此文章末尾附上完整代码，可以先按照目录结构在本地创建好项目，然后在阅读的时候，可以运行测试。")])]),a._v(" "),e("p",[a._v("以下步骤配置一个 JDBC 开发环境，您可以使用它编译和运行教程示例：")]),a._v(" "),e("ol",[e("li",[a._v("在计算机上安装最新版本的 Java SE SDK")]),a._v(" "),e("li",[a._v("如果需要，安装数据库管理系统（DBMS）")]),a._v(" "),e("li",[a._v("从数据库供应商安装 JDBC 驱动程序")]),a._v(" "),e("li",[a._v("安装 Gradle 6.x 版本")]),a._v(" "),e("li",[a._v("下载示例代码")]),a._v(" "),e("li",[a._v("笔者本次使用到项目文件规划")])]),a._v(" "),e("h2",{attrs:{id:"_1-在计算机上安装最新版本的-java-se-sdk"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-在计算机上安装最新版本的-java-se-sdk"}},[a._v("#")]),a._v(" 1. 在计算机上安装最新版本的 Java SE SDK")]),a._v(" "),e("p",[a._v("在计算机上安装最新版本的 Java SE SDK。确保环境变量中包含 Java SE SDK "),e("code",[a._v("bin")]),a._v(" 目录的完整目录路径，"),e("code",[a._v("PATH")]),a._v("以便您可以从任何目录运行 Java 编译器和 Java 应用程序启动器。")]),a._v(" "),e("h2",{attrs:{id:"_2-如果需要，安装数据库管理系统（dbms）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-如果需要，安装数据库管理系统（dbms）"}},[a._v("#")]),a._v(" 2. 如果需要，安装数据库管理系统（DBMS）")]),a._v(" "),e("p",[a._v("您可以使用 Java DB，它是最新版本的 Java SE SDK 附带的。本教程已经测试了以下 DBMS：")]),a._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"http://www.oracle.com/technetwork/java/javadb/overview/index.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("Java DB"),e("OutboundLink")],1),a._v("：别考虑这个了。2015 年 6 月开始，JavaDB 不再包含在最新版本的 JDK 中。")]),a._v(" "),e("li",[e("a",{attrs:{href:"http://www.mysql.com/",target:"_blank",rel:"noopener noreferrer"}},[a._v("MySQL"),e("OutboundLink")],1)])]),a._v(" "),e("p",[a._v("注意，如果您使用的是另一个 DBMS，那么您可能必须修改教程示例的代码。")]),a._v(" "),e("h2",{attrs:{id:"_3-从数据库供应商安装-jdbc-驱动程序"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-从数据库供应商安装-jdbc-驱动程序"}},[a._v("#")]),a._v(" 3. 从数据库供应商安装 JDBC 驱动程序")]),a._v(" "),e("p",[a._v("使用 MySQL 在这里获取驱动包 "),e("a",{attrs:{href:"http://www.mysql.com/products/connector/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Connector/J"),e("OutboundLink")],1),a._v("。")]),a._v(" "),e("p",[a._v("JDBC 驱动程序有许多可能的实现。这些实现分类如下：")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("Type 1：将 JDBC API 实现为映射到另一个数据访问 API（如 ODBC （开放数据库连接））的驱动程序。这种类型的驱动程序通常依赖于本机库，这限制了它们的可移植性。JDBC-ODBC 桥是 Type 1 驱动程序的一个示例。")]),a._v(" "),e("p",[a._v("注意：应该将 JDBC-ODBC 桥视为一种过渡性解决方案。Oracle 不支持它。考虑仅在 DBMS 不提供只支持 java的 JDBC 驱动程序时使用它。")])]),a._v(" "),e("li",[e("p",[a._v("Type 2：部分用 Java 编程语言和部分用本机代码编写的驱动程序。这些驱动程序使用特定于它们所连接的数据源的本地客户端库。同样，由于本机代码的存在，它们的可移植性受到了限制。Oracle 的 OCI （Oracle Call Interface）客户端驱动程序是 Type 2 驱动程序的一个示例。")])]),a._v(" "),e("li",[e("p",[a._v("Type 3：使用纯 Java 客户机并使用与数据库无关的协议与中间件服务器通信的驱动程序。然后，中间件服务器将客户机的请求传递给数据源。")])]),a._v(" "),e("li",[e("p",[a._v("Type 4：纯 Java 驱动程序，为特定数据源实现网络协议。客户端直接连接到数据源。")])])]),a._v(" "),e("p",[a._v("检查您的 DBMS 附带了哪些驱动程序类型。Java DB 附带了两个 Type 4 驱动程序，一个嵌入式驱动程序和一个网络客户端驱动程序。MySQL Connector/J 是一个 Type 4 驱动程序。")]),a._v(" "),e("p",[a._v("安装 JDBC 驱动程序通常包括将驱动程序复制到您的计算机，然后将其位置添加到您的类路径中。此外，除了 Type 4 驱动程序之外，许多 JDBC 驱动程序都需要安装客户端 API。通常不需要其他特殊配置。")]),a._v(" "),e("h2",{attrs:{id:"_4-安装-gradle-6-x-版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-安装-gradle-6-x-版本"}},[a._v("#")]),a._v(" 4. 安装 Gradle 6.x 版本")]),a._v(" "),e("p",[a._v("不会教你如何安装，可以使用您自己熟悉的 maven 之类的来构建 java 项目")]),a._v(" "),e("h2",{attrs:{id:"_5-下载示例代码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-下载示例代码"}},[a._v("#")]),a._v(" 5. 下载示例代码")]),a._v(" "),e("p",[a._v("你可以不下载此示例，笔者会在讲解过程中，逐步的贴出来。")]),a._v(" "),e("p",[a._v("可以下载官方给定的压缩包，但是笔者不准备这样做，笔者会下载压缩包，并挑选出 mysql 相关的文件，并使用 idea + greadle 来构建这个练习项目")]),a._v(" "),e("p",[a._v("示例代码  "),e("a",{attrs:{href:"https://docs.oracle.com/javase/tutorial/jdbc/basics/examples/zipfiles/JDBCTutorial.zip",target:"_blank",rel:"noopener noreferrer"}},[a._v("JDBCTutorial.zip"),e("OutboundLink")],1),a._v(" 文件，由以下文件组成：")]),a._v(" "),e("ul",[e("li",[e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("properties\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("ul",[e("li",[e("code",[a._v("javadb-build-properties.xml")])]),a._v(" "),e("li",[e("code",[a._v("javadb-sample-properties.xml")])]),a._v(" "),e("li",[e("code",[a._v("mysql-build-properties.xml")])]),a._v(" "),e("li",[e("code",[a._v("mysql-sample-properties.xml")])])])]),a._v(" "),e("li",[e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("sql\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("ul",[e("li",[e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("javadb\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("ul",[e("li",[e("code",[a._v("create-procedures.sql")])]),a._v(" "),e("li",[e("code",[a._v("create-tables.sql")])]),a._v(" "),e("li",[e("code",[a._v("drop-tables.sql")])]),a._v(" "),e("li",[e("code",[a._v("populate-tables.sql")])])])]),a._v(" "),e("li",[e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("mysql\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("ul",[e("li",[e("code",[a._v("create-procedures.sql")])]),a._v(" "),e("li",[e("code",[a._v("create-tables.sql")])]),a._v(" "),e("li",[e("code",[a._v("drop-tables.sql")])]),a._v(" "),e("li",[e("code",[a._v("populate-tables.sql")])])])])])]),a._v(" "),e("li",[e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("src/com/oracle/tutorial/jdbc\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("ul",[e("li",[e("code",[a._v("CachedRowSetSample.java")])]),a._v(" "),e("li",[e("code",[a._v("CityFilter.java")])]),a._v(" "),e("li",[e("code",[a._v("ClobSample.java")])]),a._v(" "),e("li",[e("code",[a._v("CoffeesFrame.java")])]),a._v(" "),e("li",[e("code",[a._v("CoffeesTable.java")])]),a._v(" "),e("li",[e("code",[a._v("CoffeesTableModel.java")])]),a._v(" "),e("li",[e("code",[a._v("DatalinkSample.java")])]),a._v(" "),e("li",[e("code",[a._v("ExampleRowSetListener.java")])]),a._v(" "),e("li",[e("code",[a._v("FilteredRowSetSample.java")])]),a._v(" "),e("li",[e("code",[a._v("JdbcRowSetSample.java")])]),a._v(" "),e("li",[e("code",[a._v("JDBCTutorialUtilities.java")])]),a._v(" "),e("li",[e("code",[a._v("JoinSample.java")])]),a._v(" "),e("li",[e("code",[a._v("ProductInformationTable.java")])]),a._v(" "),e("li",[e("code",[a._v("RSSFeedsTable.java")])]),a._v(" "),e("li",[e("code",[a._v("StateFilter.java")])]),a._v(" "),e("li",[e("code",[a._v("StoredProcedureJavaDBSample.java")])]),a._v(" "),e("li",[e("code",[a._v("StoredProcedureMySQLSample.java")])]),a._v(" "),e("li",[e("code",[a._v("SuppliersTable.java")])]),a._v(" "),e("li",[e("code",[a._v("WebRowSetSample.java")])])])]),a._v(" "),e("li",[e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("txt\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("ul",[e("li",[e("code",[a._v("colombian-description.txt")])])])]),a._v(" "),e("li",[e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("xml\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("ul",[e("li",[e("code",[a._v("rss-coffee-industry-news.xml")])]),a._v(" "),e("li",[e("code",[a._v("rss-the-coffee-break-blog.xml")])])])]),a._v(" "),e("li",[e("p",[e("code",[a._v("build.xml")])])])]),a._v(" "),e("p",[a._v("创建一个目录来包含示例的所有文件。这些步骤将此目录称为 "),e("code",[a._v("<JDBC tutorial 目录>")]),a._v("。将 JDBCTutorial.zip 解压缩到 "),e("code",[a._v("<JDBC tutorial目录>")]),a._v(" 中。")]),a._v(" "),e("h2",{attrs:{id:"笔者本次使用到项目文件规划"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#笔者本次使用到项目文件规划"}},[a._v("#")]),a._v(" 笔者本次使用到项目文件规划")]),a._v(" "),e("p",[a._v("研究了一下这个示例代码  "),e("a",{attrs:{href:"https://docs.oracle.com/javase/tutorial/jdbc/basics/examples/zipfiles/JDBCTutorial.zip",target:"_blank",rel:"noopener noreferrer"}},[a._v("JDBCTutorial.zip"),e("OutboundLink")],1),a._v(" 文件，其实不用作太多的改变，用到的文件如下图")]),a._v(" "),e("p",[e("img",{attrs:{src:t(415),alt:"image-20200807164130684"}})]),a._v(" "),e("p",[a._v("另外依赖包管理使用的 gradle，mysql 的依赖为 "),e("code",[a._v("compile('mysql:mysql-connector-java:5.1.46')")]),a._v("，数据库用的 Mysql 5.7")]),a._v(" "),e("p",[a._v("本次使用 Idea 工具，只留下了如上图的文件，下面大概将讲解下每个类/文件的大概作用。")]),a._v(" "),e("ul",[e("li",[e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("src/main/java/com/oracle/tutorial/jdbc\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("ul",[e("li",[e("code",[a._v("CachedRowSetSample.java")])]),a._v(" "),e("li",[e("code",[a._v("CityFilter.java")])]),a._v(" "),e("li",[e("code",[a._v("ClobSample.java")])]),a._v(" "),e("li",[e("code",[a._v("CoffeesFrame.java")])]),a._v(" "),e("li",[e("code",[a._v("CoffeesTable.java")]),a._v("：对该表的 CRUD 操作")]),a._v(" "),e("li",[e("code",[a._v("CoffeesTableModel.java")])]),a._v(" "),e("li",[e("code",[a._v("DatalinkSample.java")])]),a._v(" "),e("li",[e("code",[a._v("ExampleRowSetListener.java")])]),a._v(" "),e("li",[e("code",[a._v("FilteredRowSetSample.java")])]),a._v(" "),e("li",[e("code",[a._v("JdbcRowSetSample.java")])]),a._v(" "),e("li",[e("code",[a._v("JDBCTutorialUtilities.java")]),a._v("：该教程用到的一些公共的工具方法")]),a._v(" "),e("li",[e("code",[a._v("JoinSample.java")])]),a._v(" "),e("li",[e("code",[a._v("ProductInformationTable.java")])]),a._v(" "),e("li",[e("code",[a._v("RSSFeedsTable.java")]),a._v("：对该表的 CRUD 操作")]),a._v(" "),e("li",[e("code",[a._v("StateFilter.java")])]),a._v(" "),e("li",[e("code",[a._v("StoredProcedureMySQLSample.java")])]),a._v(" "),e("li",[e("code",[a._v("SuppliersTable.java")]),a._v("：对该表的 CRUD 操作")]),a._v(" "),e("li",[e("code",[a._v("WebRowSetSample.java")])])])]),a._v(" "),e("li",[e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("properties\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("ul",[e("li",[e("code",[a._v("mysql-sample-properties.xml")]),a._v("：存放 mysql 数据源的一些信息，如用户名、密码、ip 等信息")])])]),a._v(" "),e("li",[e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("xml\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("ul",[e("li",[e("code",[a._v("rss-coffee-industry-news.xml")])]),a._v(" "),e("li",[e("code",[a._v("rss-the-coffee-break-blog.xml")])])])]),a._v(" "),e("li",[e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("sql\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("ul",[e("li",[e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("mysql\tsql 脚本\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("ul",[e("li",[e("code",[a._v("create-procedures.sql")]),a._v("\t：创建存储过程的脚本")]),a._v(" "),e("li",[e("code",[a._v("create-tables.sql")]),a._v(" ：创建所有用到的表的脚本")]),a._v(" "),e("li",[e("code",[a._v("drop-tables.sql")]),a._v(" ：删除所有用到的表的脚本")]),a._v(" "),e("li",[e("code",[a._v("populate-tables.sql")]),a._v("：插入测试数据的脚本")])])])]),a._v(" "),e("p",[a._v("脚本可能只是为了方便看全貌和 sql 语句，因为每个类里面基本上都写部分语句")])])]),a._v(" "),e("p",[a._v("以上文件，为了以防万一，这里在本章对应的 Github 仓库中 "),e("code",[a._v("docs/jdbc/basics/project")]),a._v(" 目录下也封存了一份（已经修改为后面说的比较方便运行的方式），如有需要，请自行前往该仓库中获取这些文件。也可以直接下载官方的压缩包，自己根据修改，因为并不复杂")]),a._v(" "),e("p",[a._v("关于如何运行测试说明：")]),a._v(" "),e("ol",[e("li",[e("p",[a._v("首先我们要将 "),e("code",[a._v("mysql-sample-properties.xml")]),a._v(" 中的信息改成我们自己准备好的 mysql 数据库信息")])]),a._v(" "),e("li",[e("p",[a._v("比如后面章节有说某一段代码来自  "),e("code",[a._v("SuppliersTable.createTable")]),a._v(" 方法")]),a._v(" "),e("p",[a._v("那么你首先要找到 "),e("code",[a._v("SuppliersTable")]),a._v(" 这个类，里面有一个 main 方法，如下面这个")]),a._v(" "),e("div",{staticClass:"language-java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[a._v("    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("static")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("main")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" args"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 我们改成固定的路径，因为只针对 mysql 测试")]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("final")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("URL")]),a._v(" resource "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JDBCTutorialUtilities")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("getResource")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/properties/mysql-sample-properties.xml"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" propertiesFileName "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" resource"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("getPath")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n        "),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JDBCTutorialUtilities")]),a._v(" myJDBCTutorialUtilities"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Connection")]),a._v(" myConnection "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("null")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("propertiesFileName "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("null")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n            "),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("System")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("err"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("println")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Properties file not specified at command line"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n            "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("return")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("else")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n            "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("try")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n                "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 这里去解析配置文件")]),a._v("\n                myJDBCTutorialUtilities "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JDBCTutorialUtilities")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("propertiesFileName"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n            "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("catch")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Exception")]),a._v(" e"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n                "),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("System")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("err"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("println")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Problem reading properties file "')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+")]),a._v(" propertiesFileName"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n                e"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("printStackTrace")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n                "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("return")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n            "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("try")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 通过 DriverManager.getConnection 获取一个连接，里面用到的信息就是上面解析的 xml 中的文件")]),a._v("\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 由于是 JDBC 4.0 后的 数据源，所以 DriverManager 会自动扫描在类路径下的 java.sql.Driver 实现类")]),a._v("\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 这里就会自动加载 mysql 驱动包中的 com.mysql.jdbc.Driver 类")]),a._v("\n            myConnection "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" myJDBCTutorialUtilities"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("getConnection")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Java DB does not have an SQL create database command; it does require createDatabase")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//      JDBCTutorialUtilities.createDatabase(myConnection,")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//                                           myJDBCTutorialUtilities.dbName,")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//                                           myJDBCTutorialUtilities.dbms);")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//      JDBCTutorialUtilities.initializeTables(myConnection,")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//                                             myJDBCTutorialUtilities.dbName,")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//                                             myJDBCTutorialUtilities.dbms);")]),a._v("\n\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 为了测试创建表的 SQL ，我们这里按照该方法调用方式，新创建了该类，然后调用它")]),a._v("\n            "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("final")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SuppliersTable")]),a._v(" suppliersTable "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SuppliersTable")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("myConnection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" myJDBCTutorialUtilities"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("dbName"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" myJDBCTutorialUtilities"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("dbms"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 创建表")]),a._v("\n            suppliersTable"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("createTable")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 填充测试数据")]),a._v("\n            suppliersTable"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("populateTable")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 这里创建表，和测试数据这些，在 com.oracle.tutorial.jdbc.JDBCTutorialUtilities.initializeTables 中都有一个统一的初始化操作")]),a._v("\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 所以，只是为了自己尝试的时候在这里临时写上")]),a._v("\n\n            "),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("System")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("out"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("println")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"\\nContents of SUPPLIERS table:"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n            "),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SuppliersTable")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("viewTable")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("myConnection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("catch")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SQLException")]),a._v(" e"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n            "),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JDBCTutorialUtilities")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("printSQLException")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("e"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("finally")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n            "),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JDBCTutorialUtilities")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("closeConnection")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("myConnection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br"),e("span",{staticClass:"line-number"},[a._v("11")]),e("br"),e("span",{staticClass:"line-number"},[a._v("12")]),e("br"),e("span",{staticClass:"line-number"},[a._v("13")]),e("br"),e("span",{staticClass:"line-number"},[a._v("14")]),e("br"),e("span",{staticClass:"line-number"},[a._v("15")]),e("br"),e("span",{staticClass:"line-number"},[a._v("16")]),e("br"),e("span",{staticClass:"line-number"},[a._v("17")]),e("br"),e("span",{staticClass:"line-number"},[a._v("18")]),e("br"),e("span",{staticClass:"line-number"},[a._v("19")]),e("br"),e("span",{staticClass:"line-number"},[a._v("20")]),e("br"),e("span",{staticClass:"line-number"},[a._v("21")]),e("br"),e("span",{staticClass:"line-number"},[a._v("22")]),e("br"),e("span",{staticClass:"line-number"},[a._v("23")]),e("br"),e("span",{staticClass:"line-number"},[a._v("24")]),e("br"),e("span",{staticClass:"line-number"},[a._v("25")]),e("br"),e("span",{staticClass:"line-number"},[a._v("26")]),e("br"),e("span",{staticClass:"line-number"},[a._v("27")]),e("br"),e("span",{staticClass:"line-number"},[a._v("28")]),e("br"),e("span",{staticClass:"line-number"},[a._v("29")]),e("br"),e("span",{staticClass:"line-number"},[a._v("30")]),e("br"),e("span",{staticClass:"line-number"},[a._v("31")]),e("br"),e("span",{staticClass:"line-number"},[a._v("32")]),e("br"),e("span",{staticClass:"line-number"},[a._v("33")]),e("br"),e("span",{staticClass:"line-number"},[a._v("34")]),e("br"),e("span",{staticClass:"line-number"},[a._v("35")]),e("br"),e("span",{staticClass:"line-number"},[a._v("36")]),e("br"),e("span",{staticClass:"line-number"},[a._v("37")]),e("br"),e("span",{staticClass:"line-number"},[a._v("38")]),e("br"),e("span",{staticClass:"line-number"},[a._v("39")]),e("br"),e("span",{staticClass:"line-number"},[a._v("40")]),e("br"),e("span",{staticClass:"line-number"},[a._v("41")]),e("br"),e("span",{staticClass:"line-number"},[a._v("42")]),e("br"),e("span",{staticClass:"line-number"},[a._v("43")]),e("br"),e("span",{staticClass:"line-number"},[a._v("44")]),e("br"),e("span",{staticClass:"line-number"},[a._v("45")]),e("br"),e("span",{staticClass:"line-number"},[a._v("46")]),e("br"),e("span",{staticClass:"line-number"},[a._v("47")]),e("br"),e("span",{staticClass:"line-number"},[a._v("48")]),e("br"),e("span",{staticClass:"line-number"},[a._v("49")]),e("br"),e("span",{staticClass:"line-number"},[a._v("50")]),e("br"),e("span",{staticClass:"line-number"},[a._v("51")]),e("br"),e("span",{staticClass:"line-number"},[a._v("52")]),e("br"),e("span",{staticClass:"line-number"},[a._v("53")]),e("br"),e("span",{staticClass:"line-number"},[a._v("54")]),e("br")])]),e("p",[a._v("每个 man 方法里面都有一些初始化的代码，我们找到对应的地方，然后调用我们的测试方法即可，并把其他不需要测试的先注释掉，运行就可以测试了。")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);